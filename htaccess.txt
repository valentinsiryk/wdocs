=========
.htaccess
=========

# .htaccess

https://habrahabr.ru/company/sprinthost/blog/129560/

$1	# обозначает ту часть исходного пути, которая расположена внутри первой пары скобок, $2 - внутри второй пары и далее по аналогии.


redirect|R [=code] (вызывает редирект) Префикс в Подстановке вида http://thishost[:thisport]/ (создающий новый URL из какого-либо URI) запускает внешний редирект (перенаправление). Если нет никакого кода в подстановке ответ будет с HTTP статусом 302 (ВРЕМЕННО ПЕРЕМЕЩЕН). Если вы хотите использовать другие коды ответов в диапазоне 300-400, просто напишите их в виде числа или используйте одно из следующих символических имён: temp (По-умолчанию), permanent, seeother.


last|L (последнее правило) Остановить процесс преобразования на этом месте и не применять больше никаких правил преобразований. Это соответствует оператору last в Perl или оператору break в языке C. Используйте этот флаг для того, чтобы не преобразовывать текущий URL другими, следующими за этим, правилами преобразований. К примеру, используйте это для преобразования корневого URL из ('/') в реальный, например, '/e/www/'.


Есть специальный формат: %{HTTP:заголовок} где заголовок может быть любым именем HTTP MIME-заголовка. Это ищется в HTTP запросе.

Аргумент директивы RewriteCond. Flags список следующих флагов разделенных запятыми: 'nocase|NC' (регистро независимо)


RewriteBase		# устанавливает базовый URL для преобразований в контексте каталога. Используется в конфигурационных файлах каталогов .htaccess.
				Префикс локального каталога отбрасывается на этом этапе обработки и ваши правила преобразований работают только в оставшейся части.
				В конце он автоматически добавляется обратно к пути.


#######################################
rewrite in subdir
###############################
RewriteEngine On
#RewriteBase /

#RewriteCond %{HTTP_HOST} ^test.loc
#RewriteRule bbc/(.*)$ http://bbc.test.loc/$1 [R=301,L]

#RewriteCond %{HTTP_HOST} ^bbc.test.loc$
#RewriteCond %{REQUEST_URI} !^/bbs
#RewriteRule ^(.*)$ /bbs/$1 [L,QSA]

RewriteCond %{HTTP_HOST} ^www.test2.tixclix.com$
RewriteCond %{REQUEST_URI} !^/test/public_fcn
RewriteRule ^(.*)$ /test/public_fcn/$1 [L,QSA]


RewriteCond %{HTTP_HOST} ^test2.tixclix.com$
RewriteCond %{REQUEST_URI} !^/blog
RewriteRule ^(.*)$ /blog/$1 [L,QSA]


#RewriteRule ^(.*)$ /test/$1 [L,QSA]
#######################################
